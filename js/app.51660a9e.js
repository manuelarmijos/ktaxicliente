(function(e){function t(t){for(var a,r,s=t[0],l=t[1],c=t[2],d=0,p=[];d<s.length;d++)r=s[d],Object.prototype.hasOwnProperty.call(i,r)&&i[r]&&p.push(i[r][0]),i[r]=0;for(a in l)Object.prototype.hasOwnProperty.call(l,a)&&(e[a]=l[a]);u&&u(t);while(p.length)p.shift()();return n.push.apply(n,c||[]),o()}function o(){for(var e,t=0;t<n.length;t++){for(var o=n[t],a=!0,r=1;r<o.length;r++){var l=o[r];0!==i[l]&&(a=!1)}a&&(n.splice(t--,1),e=s(s.s=o[0]))}return e}var a={},i={app:0},n=[];function r(e){return s.p+"js/"+({about:"about"}[e]||e)+"."+{about:"ea2d5522"}[e]+".js"}function s(t){if(a[t])return a[t].exports;var o=a[t]={i:t,l:!1,exports:{}};return e[t].call(o.exports,o,o.exports,s),o.l=!0,o.exports}s.e=function(e){var t=[],o=i[e];if(0!==o)if(o)t.push(o[2]);else{var a=new Promise((function(t,a){o=i[e]=[t,a]}));t.push(o[2]=a);var n,l=document.createElement("script");l.charset="utf-8",l.timeout=120,s.nc&&l.setAttribute("nonce",s.nc),l.src=r(e);var c=new Error;n=function(t){l.onerror=l.onload=null,clearTimeout(d);var o=i[e];if(0!==o){if(o){var a=t&&("load"===t.type?"missing":t.type),n=t&&t.target&&t.target.src;c.message="Loading chunk "+e+" failed.\n("+a+": "+n+")",c.name="ChunkLoadError",c.type=a,c.request=n,o[1](c)}i[e]=void 0}};var d=setTimeout((function(){n({type:"timeout",target:l})}),12e4);l.onerror=l.onload=n,document.head.appendChild(l)}return Promise.all(t)},s.m=e,s.c=a,s.d=function(e,t,o){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(s.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)s.d(o,a,function(t){return e[t]}.bind(null,a));return o},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="",s.oe=function(e){throw console.error(e),e};var l=window["webpackJsonp"]=window["webpackJsonp"]||[],c=l.push.bind(l);l.push=t,l=l.slice();for(var d=0;d<l.length;d++)t(l[d]);var u=c;n.push([0,"chunk-vendors"]),o()})({0:function(e,t,o){e.exports=o("56d7")},1:function(e,t){},10:function(e,t){},11:function(e,t){},12:function(e,t){},13:function(e,t){},14:function(e,t){},2:function(e,t){},"21a9":function(e,t,o){e.exports=o.p+"img/taxi2.1dd2e89f.jpg"},3:function(e,t){},4:function(e,t){},4754:function(e,t,o){"use strict";o("a08e")},5:function(e,t){},"56d7":function(e,t,o){"use strict";o.r(t);var a=o("2b0e"),i=o("7496"),n=o("8336"),r=o("b0af"),s=o("99d9"),l=o("4bd4"),c=o("adda"),d=o("f6c4"),u=o("8e36"),p=o("71a3"),f=o("c671"),m=o("fe57"),h=o("aac8"),g=o("8654"),v=function(){var e=this,t=e._self._c;return t(i["a"],[e.verifacado?t("div",[t("Menu"),t(d["a"],[t("div",{staticClass:"principal"},[t("router-view")],1)])],1):t("div",[t(m["a"],{attrs:{"fixed-tabs":"",color:"deep-purple accent-4",center:""},model:{value:e.tab,callback:function(t){e.tab=t},expression:"tab"}},[t(p["a"],{attrs:{href:"#administrador"}},[e._v(" Cliente")])],1),t(h["a"],{model:{value:e.tab,callback:function(t){e.tab=t},expression:"tab"}},[t(f["a"],{attrs:{value:"administrador"}},[t(r["a"],{staticClass:"mx-auto mt-10 title",attrs:{elevation:"24",rounded:"","max-width":e.$vuetify.breakpoint.width<900?"300":"340"}},[t(u["a"],{attrs:{active:e.loadingSesion,color:"deep-purple accent-4",indeterminate:e.loadingSesion,rounded:"",height:"6"}}),t(c["a"],{attrs:{src:e.imgS}}),t("div",{staticStyle:{"text-align":"end"}},[t(s["c"],[e._v("Iniciar Sesión")])],1),t(s["b"],[t(l["a"],{ref:"form",attrs:{"lazy-validation":""},model:{value:e.valido,callback:function(t){e.valido=t},expression:"valido"}},[t(g["a"],{attrs:{counter:10,rules:e.nameRules,label:"Usuario",required:""},model:{value:e.name,callback:function(t){e.name=t},expression:"name"}}),t(g["a"],{attrs:{"append-icon":e.show1?"mdi-eye":"mdi-eye-off",rules:e.paswordRules,type:e.show1?"text":"password",name:"input-10-1",label:"Contraseña",hint:"Al menos 8 carácteres",counter:"",required:""},on:{"click:append":function(t){e.show1=!e.show1}},model:{value:e.pasword,callback:function(t){e.pasword=t},expression:"pasword"}})],1)],1),t(s["a"],[t(n["a"],{attrs:{color:"deep-purple lighten-2",text:"",disabled:!e.valid},on:{click:e.validateUser}},[e._v(" Ingresar ")]),t(n["a"],{attrs:{color:"deep-purple lighten-2",text:""},on:{click:e.reset}},[e._v(" Limpiar ")])],1)],1)],1)],1)],1)])},b=[],w=o("40dc"),y=o("5bc1"),x=o("132d"),k=o("2fa4"),S=o("afd9"),$=function(){var e=this,t=e._self._c;return t("div",{staticClass:"tema"},[t(S["a"],{attrs:{color:"deep-purple darken-3"}}),t(w["a"],{attrs:{color:"#ffffff",dense:"",dark:"",height:"60",app:""}},[t(y["a"],{attrs:{color:"#9575cd"},on:{click:function(t){return t.stopPropagation(),e.cambiarValor.apply(null,arguments)}}}),t("br"),t("span",{staticStyle:{color:"black","font-size":"30px"}},[e._v("Sistema de solicitudes de taxi")]),t(k["a"]),t(n["a"],{attrs:{icon:""}},[t(x["a"],{attrs:{color:"#9575cd"}},[e._v("mdi-magnify")])],1),t(n["a"],{attrs:{icon:""}},[t(x["a"],{attrs:{color:"#9575cd"}},[e._v("mdi-heart")])],1),t(n["a"],{attrs:{icon:""}},[t(x["a"],{attrs:{color:"#9575cd"}},[e._v("mdi-dots-vertical")])],1)],1)],1)},C=[],_={name:"App",components:{},data:()=>({fecha:"2022-03-16",extended:!1,picker:new Date(Date.now()-6e4*(new Date).getTimezoneOffset()).toISOString().substr(0,10),drawer:!1}),computed:{mobile:function(){return this.$vuetify.breakpoint.width<900}},created(){this.calcularFecha(),console.log("valor de drawer"),console.log(this.$store.state.drawer)},methods:{calcularFecha:function(){},cambiarValor:function(){console.log("cambiando valor"),this.$store.state.drawer=!this.$store.state.drawer,console.log(this.$store.state.drawer),console.log(this.$vuetify.breakpoint.mobile),console.log(this.$vuetify.breakpoint.mobile),console.log(this.$vuetify.breakpoint.width)},abrirEnlace:function(e){window.open(e)},cerrarSesion:function(){console.log("cerrando sesion"),this.$cookie.delete("user"),this.$cookie.delete("iduser"),this.$cookie.delete("correo"),this.$cookie.delete("nombres"),this.$cookie.delete("apellidos"),this.$session.destroy();var e=window.location.origin+window.location.pathname;window.location.replace(e)}}},T=_,j=(o("a5b4"),o("2877")),O=Object(j["a"])(T,$,C,!1,null,null,null),P=O.exports,N=o("21a9"),M=o("8631"),I=(o("14b7"),o("1f7d")),U={name:"App",components:{Menu:P},data(){return{verifacado:!1,verificarModulo:!1,loading:!1,loadingSesion:!1,r:[],alert:!0,cipherString1:"",mensaje:"Cargando el acceso a los módulos...",loadingT:!0,html:"Verificando módulos asignados",config:"",configU:"",isValidUrl:!1,selection:1,imgS:N,valid:!0,name:"",nameRules:[e=>!!e||"Usuario requerido",e=>e&&e.length<=10||"El usuario debe tener menos de 10 caracteres"],pasword:"",paswordRules:[e=>!!e||"Contraseña requerida",e=>e&&e.length>=5||"Mínimo 5 caracteres"],select:null,show1:!1,items:["Item 1","Item 2","Item 3","Item 4"],checkbox:!1,data:[],itemsTabs:["Iniciar sesión","Registro pasiente"],tab:null,imgP:M,dialog:!1,valido:!0,editedItem:{nombres:"",apellidos:"",cedula:"",correo:"",direccion:"",nombreRol:"",celular:"",usuario:"",contrasenia:""},defaultItem:{nombres:"",apellidos:"",cedula:"",correo:"",direccion:"",nombreRol:"",celular:"",usuario:"",contrasenia:""},editedIndex:-1}},created(){console.log("creando"),this.data=[{id:222,imei:1212}],this.$cookie.get("iduser")&&""!=this.$cookie.get("iduser")&&(this.$session.start(),this.$session.set("iduser",this.$cookie.get("iduser")),this.verifacado=!0,this.$store.state.dataUser={nombres:this.$cookie.get("nombres"),apellidos:this.$cookie.get("apellidos"),correo:this.$cookie.get("correo")}),console.log("finalizao todo")},methods:{validateUser(){this.$refs.form.validate()?(console.log("verificando datos del usuario"),this.loadingSesion=!0,this.dataUsuario()):this.openNotification("",2,"Datos incorrectos","Estimado usuario, por favor ingrese todos los datos solicitados")},reset(){this.$refs.form.reset()},resetValidation(){this.$refs.form.resetValidation()},openNotification(e=null,t,o,a){var i;i=1===t?"primary":2==t?"danger":3==t?"success":4==t?"warn":"rgb(59,222,200)";const n=this.$vs.notification({progress:"auto",color:i,position:e,title:o,text:a});console.log(n)},async dataUsuario1(){var e=this;e.autenticar()},async dataUsuario(){let e="http://169.62.217.189:3010/autenticacion/cliente/autentica";console.log(e);var t=this;let o={Accept:"/",version:"1.0.0","Content-Type":"application/x-www-form-urlencoded"},a={url:"http://169.62.217.189:3010/login",withCredentials:!0,credentials:"include",method:"GET",headers:o};await this.axios(a).then((function(e){console.log(e),1==e.data.en||2==e.data.en?(console.log(e),setTimeout(()=>{t.autenticar()},1e3)):(t.loadingSesion=!1,console.log("no se encontro usuario"),t.mensaje=e.data.m,t.html="No se pudo obtener la información",t.openNotification("",2,"Usuario mal ingresado",e.data.m))})).catch((function(e){t.loadingSesion=!1,console.log(e),console.log("fallo el recurso user"),t.mensaje="Ocurrio un error, Por favor comuniquese con el administrador",t.html="No se pudo obtener la información",t.openNotification("",2,"Ocurrió un error","Estimado usuario se presento un error, Por favor inténtelo más tarde")})).finally(()=>{})},autenticar(){var e=this;let t={usuario:"juan"};const o=new I({host:"169.62.217.189",port:"3010",auth:"username:password"});this.axios.create({httpsAgent:o});let a={Accept:"/",version:"1.0.0"},i={url:"http://169.62.217.189:3010/autenticacion/cliente/autentica",credentials:"include",method:"POST",headers:a,data:t};this.axios(i).then((function(t){console.log(t.data),1==t.data.en?(console.log(t.data.en),e.$store.state.t=t.data.t,e.verifacado=!0,e.openNotification("",3,"Bienvenido","Gracias por preferirnos, mejoramos por usted")):(e.loadingSesion=!1,console.log("no se encontro usuario"),e.mensaje=t.data.m,e.html="No se pudo obtener la información",e.openNotification("",2,"Usuario mal ingresado",t.data.m))})).catch((function(t){e.loadingSesion=!1,console.log(t),console.log("fallo el recurso user"),e.mensaje="Ocurrio un error, Por favor comuniquese con el administrador",e.html="No se pudo obtener la información",e.openNotification("",2,"Ocurrió un error","Estimado usuario se presento un error, Por favor inténtelo más tarde")})).finally(()=>{})},deleteSesion:function(){console.log("elimnado cookies"),this.$cookie.delete("user"),this.$cookie.delete("iduser"),this.$cookie.delete("correo"),this.$cookie.delete("nombres"),this.$cookie.delete("apellidos"),this.$session.destroy()},registro:function(){console.log("registrando"),this.dialog=!0},close(){console.log("eliminando"),this.$refs.form&&this.$refs.form.reset(),this.dialog=!1,this.$nextTick(()=>{this.editedItem=Object.assign({},this.defaultItem),this.editedIndex=-1})}},computed:{mobile:function(){return this.$vuetify.breakpoint.width<900}}},z=U,E=(o("4754"),Object(j["a"])(z,v,b,!1,null,null,null)),A=E.exports,R=o("8c4f"),q=function(){var e=this,t=e._self._c;return t("div",{staticClass:"home"},[t("Mapa")],1)},V=[],H=o("8212"),L=o("62ad"),D=o("169a"),F=o("0fd9"),J=o("8dd9"),W=o("8414"),B=o("1e06"),G=o("71d9"),Q=function(){var e=this,t=e._self._c;return t("div",{},[t(F["a"],{attrs:{"no-gutters":""}},[t(L["a"],{attrs:{cols:"4"}},[t(J["a"],{staticClass:"mx-auto",attrs:{width:"300"}},[t(l["a"],{attrs:{"fast-fail":""}},[t(g["a"],{attrs:{label:"Calle principal"},model:{value:e.callePrincipal,callback:function(t){e.callePrincipal=t},expression:"callePrincipal"}}),t(g["a"],{attrs:{label:"Calle secundaria"},model:{value:e.calleSecundaria,callback:function(t){e.calleSecundaria=t},expression:"calleSecundaria"}}),t(n["a"],{staticClass:"mt-2",attrs:{block:"",loading:e.loading},on:{click:e.solicitarTaxi}},[e._v("Solicitar")])],1)],1),t("br"),t("br"),t(J["a"],{staticClass:"mx-auto",attrs:{width:"300"}},[0==e.solicitudes.length?t("div",[t("center",[t("h2",[e._v("Sin solicitudes asignadas")])])],1):t("div",[t(r["a"],{attrs:{width:"400"}},[t(s["b"],[t("div",{staticClass:"font-weight-bold ms-1 mb-2"},[e._v(" Solicitudes ")]),t(W["a"],{attrs:{density:"compact",align:"start","align-top":"",dense:""}},e._l(e.solicitudes,(function(o){return t(B["a"],{key:o.id,attrs:{size:"x-small"}},[t("div",{staticClass:"mb-4"},[t("div",{staticClass:"font-weight-normal"},[t("strong",[e._v("Conductor Asignado:")])]),t("div",[e._v(e._s(o.nombre)+" @ "+e._s(o.apellido))]),t("div",[t(H["a"],[t(c["a"],{attrs:{src:"https://avataaars.io/?avatarStyle=Circle&topType=LongHairMiaWallace&accessoriesType=Sunglasses&hairColor=BlondeGolden&facialHairType=Blank&clotheType=BlazerSweater&eyeType=Surprised&eyebrowType=RaisedExcited&mouthType=Smile&skinColor=Pale"}})],1)],1),t("br"),t("div",[t(n["a"],{attrs:{color:"primary"},on:{click:function(t){return e.finalizarSolicitud(o)}}},[e._v(" Finalizar ")])],1)])])})),1)],1)],1)],1)])],1),t(L["a"],{staticStyle:{height:"600px"},attrs:{cols:"8"}},[t("MglMap",{attrs:{accessToken:e.accessToken,mapStyle:e.style,center:e.center,zoom:15},on:{"update:mapStyle":function(t){e.style=t},"update:map-style":function(t){e.style=t}}})],1)],1),t(L["a"],{attrs:{cols:"auto"}},[t(D["a"],{attrs:{transition:"dialog-bottom-transition",width:"auto"},scopedSlots:e._u([{key:"activator",fn:function({props:o}){return[t(n["a"],e._b({attrs:{color:"primary"}},"v-btn",o,!1),[e._v("From the bottom")])]}},{key:"default",fn:function({isActive:o}){return[t(r["a"],[t(G["a"],{attrs:{color:"primary",title:"Opening from the bottom"}}),t(s["b"],[t("div",{staticClass:"text-h2 pa-12"},[e._v("Hello world!")])]),t(s["a"],{staticClass:"justify-end"},[t(n["a"],{attrs:{variant:"text"},on:{click:function(e){o.value=!1}}},[e._v("Close")])],1)],1)]}}])})],1)],1)},X=[],Y=(o("14d9"),o("e192")),Z=o.n(Y),K=o("3f3d"),ee={components:{MglMap:K["a"]},data(){return{accessToken:"pk.eyJ1IjoibWFudWVsOTQiLCJhIjoiY2sweHlsNWozMDUzMTNucW5mdDZlOXJzNSJ9.WH8MEy5frVRM8ejqs-xebg",style:"mapbox://styles/mapbox/streets-v9",center:[-79.2081012,-3.9961385],callePrincipal:"",calleSecundaria:"",solicitudes:[],loading:!1}},created(){this.mapbox=Z.a},methods:{solicitarTaxi(){this.loading=!0,console.log("Solicitando Taxi");var e=this;let t={Accept:"/",version:"1.0.0","Content-Type":"application/x-www-form-urlencoded"};const o=new URLSearchParams;o.append("callePrincipal",this.callePrincipal),o.append("calleSecundaria",this.calleSecundaria),o.append("token",this.$store.state.t);let a={url:"http://169.62.217.189:3001/solicitud/create",withCredentials:!0,credentials:"include",method:"POST",headers:t,data:o};this.axios(a).then((function(t){console.log(t),1==t.data.en?(e.loading=!1,console.log(t),e.openNotification("",3,"Solicitud creada","Estimada cliente su solicitud fue atendida con éxito"),e.solicitudes.push(t.data.conductor),console.log(e.solicitudes)):(e.loading=!1,e.openNotification("",2,"Sin conductores","No se logro encontrar un conductor, inténtelo nuevamente"))})).catch((function(t){console.log(t),this.loading=!1,e.openNotification("",2,"Sin conductores","No se logro encontrar un conductor, inténtelo nuevamente")})).finally(()=>{})},openNotification(e=null,t,o,a){var i;i=1===t?"primary":2==t?"danger":3==t?"success":4==t?"warn":"rgb(59,222,200)";const n=this.$vs.notification({progress:"auto",color:i,position:e,title:o,text:a});console.log(n)},finalizarSolicitud(e){console.log("Finalizando la solicitud"),console.log(e);var t=this;let o={Accept:"/",version:"1.0.0","Content-Type":"application/x-www-form-urlencoded"};const a=new URLSearchParams;a.append("token",this.$store.state.t),a.append("costo",this.costo),a.append("idSolicitud",this.idSolicitud),a.append("idConductor",this.idConductor);let i={url:"http://169.62.217.189:3001/solicitud/create",withCredentials:!0,credentials:"include",method:"POST",headers:o,data:a};this.axios(i).then((function(e){console.log(e),1==e.data.en?(t.loading=!1,console.log(e),t.openNotification("",3,"Solicitud creada","Estimada cliente su solicitud fue atendida con éxito"),t.solicitudes.push(e.data.conductor),console.log(t.solicitudes)):(t.loading=!1,t.openNotification("",2,"Sin conductores","No se logro encontrar un conductor, inténtelo nuevamente"))})).catch((function(e){console.log(e),this.loading=!1,t.openNotification("",2,"Sin conductores","No se logro encontrar un conductor, inténtelo nuevamente")})).finally(()=>{})}}},te=ee,oe=Object(j["a"])(te,Q,X,!1,null,null,null),ae=oe.exports,ie={name:"Home",components:{Mapa:ae}},ne=ie,re=Object(j["a"])(ne,q,V,!1,null,null,null),se=re.exports;a["default"].use(R["a"]);const le=[{path:"/",name:"Home",component:se},{path:"/about",name:"About",component:()=>o.e("about").then(o.bind(null,"f820"))}],ce=new R["a"]({mode:"history",base:"",routes:le});var de=ce,ue=o("2f62");a["default"].use(ue["a"]);var pe=new ue["a"].Store({state:{t:null,idC:null,idCl:null},mutations:{},actions:{},modules:{}}),fe=o("ce5b"),me=o.n(fe);o("bf40");a["default"].use(me.a);const he={};var ge=new me.a(he),ve=o("574d"),be=o.n(ve),we=o("cee4"),ye=o("130e"),xe=(o("04f2"),o("00e7"));a["default"].use(K["b"],{mapboxgl:Z.a}),a["default"].use(xe),a["default"].use(be.a,{}),a["default"].use(ye["a"],we["a"]),a["default"].config.productionTip=!1,new a["default"]({router:de,store:pe,vuetify:ge,render:e=>e(A)}).$mount("#app")},6:function(e,t){},7:function(e,t){},"7c09":function(e,t,o){},8:function(e,t){},8631:function(e,t,o){e.exports=o.p+"img/paciente.cd6a38a8.png"},9:function(e,t){},a08e:function(e,t,o){},a5b4:function(e,t,o){"use strict";o("7c09")}});
//# sourceMappingURL=app.51660a9e.js.map